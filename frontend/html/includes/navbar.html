{% load static %}

<div class="navbar">
    <a href="{% url 'index' %}" class="navbar-logo">
        <img src="{% static 'images/m.png' %}" alt="" class="navbar-logo-image">
        <span class="">Mykyta</span>
    </a>

    <div class="button navbar-burger show-on-iphone"
         onclick="return document.getElementById('navbar-menu').classList.toggle('navbar-menu-visible');"
    >
        â‰¡
    </div>

    <div class="navbar-menu hide-on-iphone" id="navbar-menu" hx-boost="true">
        {% with request.resolver_match.url_name as url_name %}

        <a href="#" class="button button-nav navbar-menu-item">
            <span>About me</span>
        </a>

        <a href="#" class="button button-nav navbar-menu-item">
            <span>Resume</span>
        </a>

        {% if user.is_authenticated %}
            <a class="button button-nav navbar-menu-item {% if url_name == 'user_profile' or url_name == 'password_change' or url_name == 'user_update' %}active{% endif %}" href="{% url 'user_profile' %}">
                Profile
            </a>

            <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
                <button type="submit" class="button button-nav navbar-menu-item">
                    Logout
                </button>
            </form>
        {% else %}
            <a class="button button-nav navbar-menu-item {% if url_name == 'login' or url_name == 'password_reset_request' %}active{% endif %}" href="{% url 'login' %}">
                Login
            </a>
            <a class="button button-nav navbar-menu-item {% if url_name == 'register' %}active{% endif %}" href="{% url 'register' %}">
                Register
            </a>
        {% endif %}

        <label class="theme-switcher navbar-menu-item" onclick="return toggleTheme(event);" for="checkbox">
            <input type="checkbox" id="checkbox"/>
            <span class="slider"></span>
        </label>

        {% endwith %}
    </div>
</div>
